var holidays=[];var currentDate=new Date();var sundays=[];var isPBDSetup=false;currentDate.setDate(currentDate.getDate());createInputCalendar("#input-date");$(document).ready(function(){var a=$("#tracking-RDActive").val();if(isPBDSetup==false&&a=="yes"){getPostalHolidays();isPBDSetup=true}});function getPostalHolidays(){jQuery.ajax({url:"/UspsToolsRestServices/rest/trackingRedelivery/postalBusinessDays",type:"GET",headers:{"Content-Type":"application/json;charset=utf-8"},dataType:"json",success:function(a){$.each(a,function(c,d){var b=d.holidays;$.each(b,function(e,f){holidays.push(moment(f.delivery,"YYYYMMDD").format("M/D/YYYY"))})})}})}jQuery(window).resize(function(){jQuery("#input-date").datepicker("hide");jQuery("#input-date").blur()});function createInputCalendar(a){jQuery(a).datepicker({minDate:currentDate,maxDate:"+12m",beforeShow:function(b,c){var d=0;setTimeout(function(){d=c.dpDiv.height();jQuery("#ui-datepicker-div").addClass("single-input-cal");if(b.getBoundingClientRect().top<d){c.dpDiv.removeClass("ui-top-cal-arrow").addClass("ui-bottom-cal-arrow").position({my:"right top+5",at:"right bottom",collision:"none",of:b})}else{c.dpDiv.removeClass("ui-bottom-cal-arrow").addClass("ui-top-cal-arrow").position({my:"right bottom-5",at:"right top",collision:"none",of:b})}},0)},beforeShowDay:function(c){var b=(c.getMonth()+1)+"/"+c.getDate()+"/"+c.getFullYear();if(jQuery.inArray(b,holidays)>-1){return[true,"holiday ui-state-disabled"]}return[true,""]}})}function selectCalendarDate(e,c){var a=new Date(e);var g=a.getUTCMonth()+1;var b=a.getUTCDate();var f=a.getUTCFullYear();newdate=g+"/"+b+"/"+f;var d=jQuery.inArray(newdate,currentlySelectedDates);if(d>=0){currentlySelectedDates.splice(d,1)}else{currentlySelectedDates.push(newdate)}var h=(currentlySelectedDates.length==0)}function calendarCreator(b,a){jQuery(b).datepicker({maxDate:"+12m",minDate:"+1d",numberOfMonths:1,beforeShowDay:function(e){var c=$.datepicker.parseDate($.datepicker._defaults.dateFormat,$("#modal-resume-date").val());var d=(e.getMonth()+1)+"/"+e.getDate()+"/"+e.getFullYear();var f=e.getDay();if(f==0){sundays.push(d)}if(jQuery.inArray(d,sundays)>-1){return[""]}if(jQuery.inArray(d,holidays)>-1){return[""]}if(jQuery.inArray(d,holidays)>-1){return[true,"disabled-date ui-datepicker-unselectable"]}return[true,c&&((e.getTime()==c.getTime()))?"dp-highlight":""]},beforeShow:$("#clear-resume-dates").click(function(){$("a.ui-state-default").removeClass("ui-state-active");$("a.ui-state-default").parent().removeClass("dp-highlight");$("#modal-resume-date").val(null);resumeDisableDate=[]}),beforeShow:$("#save-resume-date").click(function(){$("a.ui-state-default").removeClass("ui-state-active");$("a.ui-state-default").parent().removeClass("dp-highlight")}),beforeShow:$(".resume-start-day-modal-close").click(function(){$("a.ui-state-default").removeClass("ui-state-active");$("a.ui-state-default").parent().removeClass("dp-highlight");$("#modal-resume-date").val(null);resumeDisableDate=[]}),beforeShow:$(".resume-start-input").click(function(){}),onSelect:function(d,e){var c=$.datepicker.parseDate($.datepicker._defaults.dateFormat,$("#modal-resume-date").val());$("#modal-resume-date").val(d);$(this).datepicker()}});$("#save-resume-date").click(function(){var c=jQuery(this).data("thisTracking");$("#select-date-"+c).val($("#modal-resume-date").val());$("#select-date-modify").val($("#modal-resume-date").val())})}$(function(a){$("#modal-start-end #resume-start-cal").click(function(b){b.preventDefault()})});$("#modal-start-end").on("hidden.bs.modal",function(){$("#resume-start-cal").datepicker("setDate",null)});